<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Flux v4.0.1</title>

  <style>
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial;
      background:#ffffff;
      color:#111;
      display:flex;
      align-items:center;
      justify-content:center;
      height:100vh;
      text-align:center;
    }

    .container{
      padding:24px;
      max-width:420px;
      width:100%;
    }

    .logo{
      font-size:64px;
      margin-bottom:20px;
    }

    .title{
      font-size:32px;
      font-weight:700;
      margin-bottom:12px;
    }

    .subtitle{
      font-size:16px;
      color:#666;
      margin-bottom:40px;
    }

    .btn{
      width:100%;
      padding:16px;
      font-size:18px;
      border-radius:16px;
      border:none;
      background:#111;
      color:white;
      cursor:pointer;
      margin-top:12px;
    }

    .btn:active{
      transform:scale(0.98);
    }

    .score{
      font-size:72px;
      font-weight:700;
      margin:20px 0;
    }

    .emoji{
      font-size:56px;
    }

    .hidden{
      display:none;
    }

    .hint{
      font-size:13px;
      color:#999;
      margin-top:12px;
    }
  </style>
</head>

<body>
  <div class="container">
    <div id="home">
      <div class="logo">ğŸš€</div>
      <div class="title">Flux v4.0.1</div>
      <div class="subtitle">å·²æˆåŠŸéƒ¨ç½²ï¼ˆStable Web Versionï¼‰</div>

      <button class="btn" onclick="openCamera()">
        ğŸ“¸ æ‹ç…§åˆ†æ
      </button>

      <button class="btn" onclick="openGallery()">
        ğŸ–¼ï¸ å¾ç›¸ç°¿é¸æ“‡
      </button>

      <div class="hint">ï¼ˆæ”¯æ´ Android / iPhone / WebView ç©©å®šç‰ˆæœ¬ï¼‰</div>
    </div>

    <div id="result" class="hidden">
      <div class="emoji" id="emoji">ğŸ˜€</div>
      <div class="score" id="score">0</div>
      <div class="subtitle" id="message">åˆ†æå®Œæˆ</div>

      <button class="btn" onclick="goHome()">è¿”å›é¦–é </button>
    </div>

    <!-- éš±è—è¼¸å…¥ -->
    <input id="cameraInput" type="file" accept="image/*" capture="environment" class="hidden">
    <input id="galleryInput" type="file" accept="image/*" class="hidden">
  </div>

  <script>
    function goHome(){
      document.getElementById("home").classList.remove("hidden");
      document.getElementById("result").classList.add("hidden");
    }

    function openCamera(){
      document.getElementById("cameraInput").click();
    }

    function openGallery(){
      document.getElementById("galleryInput").click();
    }

    function analyzeFile(file){
      if(!file) return;

      // ç©©å®šéš¨æ©Ÿï¼ˆæ¨¡æ“¬ aHash ç©©å®šåˆ†æ•¸ï¼‰
      const seed = file.size % 100;
      const score = (seed * 7 + 23) % 100;

      let emoji = "ğŸ˜€";
      let message = "ç‹€æ…‹ç©©å®š";

      if(score <= 30){
        emoji = "ğŸ¥º";
        message = "ä»Šæ—¥ç‹€æ…‹åä½ï¼Œå»ºè­°è§€å¯Ÿ";
      }else if(score <= 60){
        emoji = "ğŸ˜€";
        message = "ä»Šæ—¥ç‹€æ…‹æ­£å¸¸";
      }else{
        emoji = "ğŸ˜†";
        message = "ä»Šæ—¥ç‹€æ…‹è‰¯å¥½";
      }

      document.getElementById("score").innerText = score;
      document.getElementById("emoji").innerText = emoji;
      document.getElementById("message").innerText = message;

      document.getElementById("home").classList.add("hidden");
      document.getElementById("result").classList.remove("hidden");
    }

    document.getElementById("cameraInput").addEventListener("change",(e)=>{
      analyzeFile(e.target.files[0]);
    });

    document.getElementById("galleryInput").addEventListener("change",(e)=>{
      analyzeFile(e.target.files[0]);
    });
  </script>
</body>
</html>
